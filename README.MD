# Intershop: –í–∏—Ç—Ä–∏–Ω–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞

–ø—Ä–æ–µ–∫—Ç –Ω–∞ Java + Spring WebFlux. –í–∫–ª—é—á–∞–µ—Ç –≤–∏—Ç—Ä–∏–Ω—É —Ç–æ–≤–∞—Ä–æ–≤ (`store-service`) –∏ –ø–ª–∞—Ç—ë–∂–Ω—ã–π —Å–µ—Ä–≤–∏—Å (`payment-service`) —Å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º Redis, OpenAPI-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –∏ Docker-–æ–∫—Ä—É–∂–µ–Ω–∏–µ–º.
–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:
- Redis –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤
- Keycloak –¥–ª—è OpenID –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- OpenAPI –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞ –∏ —Å–µ—Ä–≤–µ—Ä–∞ –ø–ª–∞—Ç—ë–∂–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
- Docker Compose –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
- 
## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- `store-service` ‚Äî –≤–∏—Ç—Ä–∏–Ω–∞ —Å —Ç–æ–≤–∞—Ä–∞–º–∏ –∏ –∫–æ—Ä–∑–∏–Ω–æ–π (–ø–æ—Ä—Ç `8081`)
- `payment-service` ‚Äî —Å–µ—Ä–≤–∏—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ (–ø–æ—Ä—Ç `8080`)
- `Redis` ‚Äî –∫–µ—à —Ç–æ–≤–∞—Ä–æ–≤
- `keycloak`        –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ OpenID        -8089

–ü—Ä–æ–µ–∫—Ç —Å–æ–±—Ä–∞–Ω –∫–∞–∫ –º—É–ª—å—Ç–∏–º–æ–¥—É–ª—å–Ω—ã–π Maven-–ø—Ä–æ–µ–∫—Ç —Å —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–º —Å—Ç–µ–∫–æ–º.

## –ó–∞–ø—É—Å–∫

### 1. –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
mvn clean package spring-boot:repackage -DskipTests
```

### 2. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

```bash
docker-compose up --build
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã:

- –í–∏—Ç—Ä–∏–Ω–∞: http://localhost:8081/main/items
- Redis: `localhost:6379` (–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ)
- –ü–ª–∞—Ç—ë–∂–Ω—ã–π —Å–µ—Ä–≤–∏—Å API: http://localhost:8080
  Keycloak: http://localhost:8089 (user1 user1)

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Java 21
- Spring Boot 3.2.5
- Spring WebFlux
- Spring Data R2DBC + H2
- Spring Data Redis Reactive
- Thymeleaf
- OpenAPI + openapi-generator
- Docker + docker-compose
- Reactive WebClient

## –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### Store-—Å–µ—Ä–≤–∏—Å (`store-service`)

- –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–æ–≤–∞—Ä–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –≤ Redis
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω–æ–π (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞)
- HTML-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ Thymeleaf

### Payment-—Å–µ—Ä–≤–∏—Å (`payment-service`)

- `POST /pay` ‚Äî —Å–ø–∏—Å–∞–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤
- `GET /balance/{userId}` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è API –∏ –º–æ–¥–µ–ª–µ–π –ø–æ OpenAPI

## üß™ –¢–µ—Å—Ç—ã

- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (`@SpringBootTest`)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ unit-—Ç–µ—Å—Ç–æ–≤
- –¢–µ—Å—Ç—ã –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å —á–µ—Ä–µ–∑:

```bash
mvn test
```

##Ô∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–¥–∞—é—Ç—Å—è –≤ `application.yml` (–ø–æ—Ä—Ç, Redis –∏ —Ç.–¥.)
